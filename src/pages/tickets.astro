---
// Components
import Layout from "layouts/LayoutLanding.astro";
import Tickets from "components/Tickets.astro";
import PreviousEvents from "components/PreviousEvents.astro";
import EventHeader from "components/EventHeader.astro";

// i18n utilities
import { getCurrentLocale, createTranslationFunction, loadTranslations } from "../i18n/utils";

// Load translations
await loadTranslations();

// Get current locale and create translation function
const currentLocale = getCurrentLocale(Astro);
const t = createTranslationFunction(currentLocale);

// Images
import GosimShanghai from "images/homepage/gosim-shanghai.png";
import GosimDelft from "images/homepage/gosim-delft.png";
import GosimBeijing from "images/homepage/gosim-beijing.png";
import GosimParis from "images/homepage/gosim-paris-min.png";
---

<Layout
  title={t('tickets.page_title')}
  description={t('tickets.page_description')}
  navDarkMode={true}
  navBackground="header-home"
  pageTransitionName="Home"
>
  <EventHeader
    category={t('tickets.event_category')}
    tagline={t('tickets.event_tagline')}
  />
  <Tickets />
  <PreviousEvents
    title={t('homepage.previous_events.title')}
    events={[
      {
        title: t('homepage.previous_events.paris_title'),
        date: "May 6-7, 2025",
        description: t('homepage.previous_events.paris_desc'),
        image: GosimParis,
        link: "https://paris2025.gosim.org/",
      },
      {
        title: t('homepage.previous_events.beijing_title'),
        date: "October 17-18, 2024",
        description: t('homepage.previous_events.beijing_desc'),
        image: GosimBeijing,
        link: "https://china2024.gosim.org/",
      },
      {
        title: t('homepage.previous_events.delft_title'),
        date: "June 6-7, 2024",
        description: t('homepage.previous_events.delft_desc'),
        image: GosimDelft,
        link: "https://europe2024.gosim.org/",
      },
      {
        title: t('homepage.previous_events.shanghai_title'),
        date: "September 23-24, 2023",
        description: t('homepage.previous_events.shanghai_desc'),
        image: GosimShanghai,
        link: "https://conference2023.gosim.org/",
      },
    ]}
  />
</Layout>
